{% load static %}
<!DOCTYPE html>
<html lang="en">
   
<head>
    <title>Meu site</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <link type="text/css" href="{% static 'bootstrap.min.css' %}" rel="stylesheet">
    <link type="text/css" href="{% static 'landing.css' %}" rel="stylesheet">
    <!--<link type="text/css" href="static/landing.css" rel="stylesheet">-->
    <!--<link type="text/css" href="static/bootstrap.min.css" rel="stylesheet">-->
</head>

<body>

<!--    
<form id="form">
    <label>Informe a frase para analise</label><br>
    <input type="text" id="text"><br>
    <input type="submit" value="Enviar" id="submit_button">
</form>
-->
<header class="masthead text-white text-center">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-xl-9 mx-auto">
          <h1 class="mb-5">Build a landing page for your business or project and generate more leads!</h1>
        </div>
        <div class="col-md-10 col-lg-8 col-xl-7 mx-auto">
          <form id="form">
            <div class="form-row">
              <div class="col-12 col-md-9 mb-2 mb-md-0">
                <input type="email" class="form-control form-control-lg" placeholder="Enter your email...">
              </div>
              <div class="col-12 col-md-3">
                <button type="submit" class="btn btn-block btn-lg btn-primary">Sign up!</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </header>

</body>

<script>  
    const form = document.getElementById("form");
    form.addEventListener("submit", submitHandler);

    function submitHandler(e) {
        e.preventDefault();
        
        textToClassify = {text: document.getElementById('text').value}
        fetch('api/', {
            method:'POST',
            headers:{
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(textToClassify),
        })
        .then(response => response.json())
        .then(data => {
            console.log('Success:', data);
        })
        .catch((error)=> {
            console.error('Error:', error);
        })   
    }
</script>